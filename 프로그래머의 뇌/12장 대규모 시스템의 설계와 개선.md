### 12장 대규모 시스템의 설계와 개선

## **1. 코드베이스와 인지적 차원 (CDCB)**
기존 코드베이스의 구조가 프로그래머의 이해도에 미치는 영향을 분석하기 위해 **CDCB(Cognitive Dimensions of Code Base)** 프레임워크를 활용한다. CDCB는 코드베이스의 특성을 인지적 차원에서 평가하는 방법을 제공하며, 코드의 유지보수성 및 가독성을 높이는 데 활용된다.

### **CDCB 주요 차원**
1. **오류 경향성(Error Proneness)**
    - 특정 코드베이스는 실수를 유발하기 쉽다. 예를 들어, 동적 타입 언어(JavaScript 등)는 타입 오류가 발생하기 쉽다.
    - 해결 방법: 타입 시스템 도입, 명확한 변수명과 문서화

2. **일관성(Consistency)**
    - 코드의 네이밍 규칙, 구조 등이 일정할수록 이해가 쉬워진다.
    - 해결 방법: 네이밍 규칙을 문서화하고 일관된 코딩 스타일 유지

3. **분산성(Diffuseness)**
    - 같은 기능을 하는 코드라도 언어 또는 스타일에 따라 코드가 얼마나 길어지는지를 의미한다.
    - 지나치게 많은 청크(Chunk)를 요구하는 코드 구조는 인지 부담을 증가시킨다.

4. **숨겨진 의존성(Hidden Dependency)**
    - 코드 간의 의존성이 명확하게 드러나지 않을 경우 유지보수가 어려워진다.
    - 해결 방법: 명확한 문서화, 의존성 주입(DI) 활용

5. **잠정성(Provisionality)**
    - 코드가 실험적인 방식으로 작성될 수 있는 자유도가 얼마나 있는지를 나타낸다.
    - 엄격한 타입 검사, 문법 오류 검사가 많으면 탐색적인 프로그래밍이 어려울 수 있다.

6. **점도(Viscosity)**
    - 코드 변경이 쉬운가? 혹은 불필요한 변경이 많이 필요한가?
    - 해결 방법: 모듈화, 낮은 결합도(loose coupling) 유지

7. **점진적 평가(Progressive Evaluation)**
    - 코드의 일부를 실행하면서 결과를 확인하는 것이 쉬운가?
    - REPL 환경(예: Python), 실시간 코드 실행 환경이 이를 향상시킨다.

8. **역할 표현력(Role Expressiveness)**
    - 코드의 각 부분이 어떤 역할을 하는지를 쉽게 알 수 있는가?
    - 함수 및 변수명 명확화, 구문 강조(Syntax Highlighting) 활용

9. **매핑 근접성(Closeness of Mapping)**
    - 코드의 구조가 실제 비즈니스 도메인과 얼마나 밀접한가?
    - 도메인 주도 설계(DDD)를 통해 해결 가능

10. **힘든 정신 활동(Hard Mental Operations)**
    - 사용자가 시스템을 이해하는 데 지나치게 많은 정신적 노력이 필요한가?
    - 복잡한 다형성, 깊은 상속 구조 등은 유지보수를 어렵게 한다.

11. **보조 표기법(Secondary Notation)**
    - 코드 자체에서 제공하지 않는 추가 정보를 제공할 수 있는가?
    - 주석, 명명된 매개변수(named arguments) 등이 포함된다.

12. **추상화(Abstraction)**
    - 사용자가 기본적인 추상화 이상의 개념을 만들 수 있는가?
    - 객체지향 프로그래밍(OOP), 모듈화 등이 이를 지원한다.

13. **가시성(Visibility)**
    - 코드의 다른 부분을 쉽게 찾아볼 수 있는가?
    - 코드를 여러 파일로 나누면 가시성이 낮아질 수 있다.

---

## **2. 코드베이스 개선을 위한 설계 기동**
CDCB 차원을 개선하기 위해 설계 기동(Design Maneuver)을 수행할 수 있다. 예를 들어:
- **타입 추가 → 오류 경향성 개선, 하지만 점도 증가**
- **일관된 네이밍 적용 → 이해도 향상, 하지만 코드 작성 시 부담 증가**
- **모듈화를 통한 가시성 증가 → 유지보수 용이, 하지만 복잡성 증가**

CDCB 차원들은 서로 상호작용하며, 한 차원을 개선하면 다른 차원에 영향을 미칠 수 있다. 따라서 설계 기동을 할 때는 트레이드오프를 고려해야 한다.

---

## **3. 코드베이스 활동과 차원 간의 관계**
CDCB 차원이 코드베이스에서 수행되는 **다섯 가지 주요 활동**에 어떤 영향을 미치는지를 분석한다.

| **차원**             | **도움이 되는 활동**    | **방해가 되는 활동**  |
|-----------------|----------------|----------------|
| 오류 경향성      | 증가             | -             |
| 일관성         | 검색, 이해       | 전사           |
| 분산성         | -               | 검색           |
| 숨겨진 의존성    | -               | 검색           |
| 잠정성         | 탐구             | -             |
| 점도           | 전사, 증가       | -             |
| 점진적 평가     | 탐구             | -             |
| 역할 표현력     | 이해             | -             |
| 매핑 근접성     | 증가             | -             |
| 힘든 정신 활동  | -               | 전사, 증가, 탐구 |
| 보조 표기법     | 검색             | -             |
| 추상화         | 이해, 탐구       | -             |
| 가시성         | 이해             | -             |

이를 기반으로 코드베이스를 최적화할 수 있다.  
예를 들어:
- **새로운 기능이 자주 추가되는 프로젝트** → *매핑 근접성, 점진적 평가, 낮은 점도를 우선적으로 고려*
- **안정적인 라이브러리 유지보수** → *검색과 이해를 위한 일관성, 가시성, 역할 표현력 강화*

---

## **4. 요약 및 결론**
- **CDCB는 대규모 코드베이스의 사용성과 유지보수성을 분석하는 도구**이다.
- **각 차원은 트레이드오프 관계에 있으며**, 코드베이스의 목적에 맞게 최적화해야 한다.
- **설계 기동(Design Maneuver)을 통해 특정 차원을 개선**하고 코드 품질을 높일 수 있다.
- **코드베이스의 사용 목적(검색 vs. 증가 vs. 탐구 등)에 맞춰 최적화 방향을 설정**하는 것이 중요하다.