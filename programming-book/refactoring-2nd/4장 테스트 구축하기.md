# 4장. 테스트 구축하기

## 4.1 자가 테스트 코드의 가치

- 테스트 코드는 디버깅 시간을 크게 줄여줌
- 자동화된 테스트는 버그를 빠르게 찾아내 생산성 향상
- 켄트 벡이 개발한 테스트 주도 개발(TDD): 테스트 작성 → 코드 작성 → 리팩터링 사이클
- JUnit과 같은 테스트 프레임워크의 발전이 테스트 문화 확산에 기여

## 4.2 테스트할 샘플 코드

- 생산 계획 검토/수정 애플리케이션 예시
- Province(지역)와 Producer(생산자) 클래스로 구성
- JSON 데이터에서 생성되는 객체 구조 소개
- 수익과 생산 부족분 계산 로직 포함

## 4.3 첫 번째 테스트

- 모카(Mocha)와 차이(Chai) 라이브러리를 활용한 테스트 구성
- 테스트 구조: 픽스처 설정 → 검증
- 테스트가 제대로 작동하는지 확인하기 위해 일시적으로 코드 오류 주입
- 자주 테스트하는 습관의 중요성

## 4.4 테스트 추가하기

- 테스트는 위험 요소를 중심으로 작성해야 함
- 단순한 접근자는 테스트할 필요 없음
- beforeEach를 사용해 각 테스트에 독립적인 픽스처 제공
- 테스트 간 상호작용을 피하기 위한 공유 픽스처 사용 자제

## 4.5 픽스처 수정하기

- 테스트 패턴: 설정(Setup) → 실행(Exercise) → 검증(Verify)
- 각 테스트는 독립적으로 실행될 수 있어야 함
- 공유 픽스처 사용 시 발생할 수 있는 문제점 주의

## 4.6 경계 조건 검사하기

- 일반적인 상황뿐 아니라 경계 조건도 테스트
  - 빈 컬렉션 
  - 0 또는 음수 값 
  - 빈 문자열 
  - 잘못된 타입의 데이터
- 경계 조건 테스트가 프로그램 동작 방식의 명확화에 도움

## 4.7 끝나지 않은 여정
- 테스트는 지속적인 과정이며 계속 발전시켜야 함
- 버그를 발견하면 먼저 해당 버그를 잡아내는 테스트 작성
- 테스트 커버리지가 중요하지만 테스트 품질이 더 중요
- 테스트를 너무 많이 작성할 수도, 너무 적게 작성할 수도 있음
- 좋은 테스트의 기준: 리팩터링 후에도 모든 테스트가 통과한다면 버그가 없다고 확신할 수 있을 때