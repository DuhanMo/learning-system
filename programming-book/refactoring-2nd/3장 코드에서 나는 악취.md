## 3장. 코드에서 나는 악취
리팩터링하면 해결할 수 있는 문제의 징후와 사용할 수 있는 리팩터링 기법

### 3.1 기이한 이름
- **함수 선언 바꾸기**
- **변수 이름 바꾸기**
- **필드 이름 바꾸기**

### 3.2 중복 코드
- **함수 추출하기**
- **문장 슬라이드하기**
- 같은 부모로부터 파생된 서브 클래스에 중복 코드 있다면 **메서드 올리기**

### 3.3 긴 함수
- 주석을 달아야 할 만한 부분은 무조건 함수로 생성한다 
- 함수 이름은 동작 방식이 아닌 의도가 드러나게 짓는다 
- **함수 추출하기**
- **임시 변수를 질의 함수로 바꾸기** 
- **매개변수 객체 만들기** 
- **객체 통째로 넘기기** 
- **함수를 명령으로 바꾸기** 
- 조건문이나 반복문은 **조건문 분해하기**
- 거대한 switch문은 case문 마다 **함수 추출하기**
- 같은 조건을 기준으로 나뉘는 switch문이 여러 개라면 조건부 로직을 **다형성으로 바꾸기** 
- **반복문 쪼개기** 

### 3.4 긴 매개변수 목록
- **매개변수를 질의 함수로 바꾸기**
- **객체 통째로 넘기기** 
- **매개변수 객체 만들기** 
- **플래그 인수 제거하기**
- 여러 개의 함수가 특정 매개변수들의 값을 공통으로 사용할 때는 **여러 함수를 클래스로 묶기** 

### 3.5 전역 데이터
- **변수 캡슐화하기**

### 3.6 가변 데이터 
- **변수 캡슐화하기** 
- **변수 쪼개기** 
- 갱신 로직을 다른 코드와 떨어뜨리기 위한 **문장 슬라이드 하기**, **함수 추출하기**
- API를 만들 때엔 **질의 함수와 변경 함수 분리하기**
- **세터 제거하기**
- **파생 변수를 질의 함수로 바꾸기**
- 변수를 갱신하는 코드들의 유효범위를 제한하기 위한 **여러 함수를 클래스로 묶기**, **여러 함수를 변환 함수로 붂기** 

### 3.7 뒤엉킨 변경
- 하나의 모듈이 서로 다른 이유들로 인해 여러 가지 방식으로 변경되는 일이 많을 때를 의미한다
- **단계 쪼개기**
- **함수 옮기기**
- **함수 추출하기**
- **클래스 추출하기**

### 3.8 산탄총 수술
- 뒤엉킨 변경과 비슷하지만 정반대이다. 코드를 변경할 때마다 자잘하게 수정해야 하는 부분이 코드 전반에 퍼져 있을 때를 의미한다 
- **함수 옮기기**
- **필드 옮기기**
- **여러 함수를 클래스로 묶기** 
- **여러 함수를 변환 함수로 묶기** 
- **단계 쪼개기**
- **함수 인라인하기**
- **클래스 인라인 하기** 

### 3.9 기능 편애 
- 어떤 함수가 자기가 속한 모듈의 함수나 데이터보다 다른 모듈의 함수나 데이터와 상호작용할 일이 더 많을 때 풍기는 냄새이다
- 데이터 근처로 **함수 옮기기** 
- 일부 기능만 사용한다면 독립함수로 빼낸 후 **함수 옮기기**

### 3.10 데이터 뭉치 
- 필드 형태의 데이터 뭉치를 찾아서 **클래스 추출하기**
- **매개변수 객체 만들기**
- **객체 통째로 넘기기** 

### 3.11 기본형 집착 
- **기본형을 객체로 바꾸기** 
- **타입 코드를 서브클래스로 바꾸기**
- **조건부 로직을 다형성으로 바꾸기** 
- **클래스 추출하기**
- **매개변수 객체 만들기**

### 3.12 반복되는 swtich문 
- **조건부 로직을 다형성으로 바꾸기** 

### 3.13 반복문
- **반복문을 파이프라인으로 바꾸기**

### 3.14 성의없는 요소 
- 의미없는 변수선언이거나 메서드가 하나뿐인 클래스 
- **함수 인라인하기** 
- **클래스 인라인하기**
- **계층 합치기** 

### 3.15 추측성 일반화 
- 나중에 필요할 거란 생각으로 당장은 필요없는 모든 종류의 후킹 포인트와 특이 케이스 처리 로직을 작성해준 코드이다 
- **계층 합치기** 
- **함수 인라인하기**
- **클래스 인라인하기** 
- **함수 선언 바꾸기** 
- **죽은 코드 제거하기**

### 3.16 임시 필드 
- 객체를 가져올 때는 보통 모든 필드가 채워져있을 거라 예상한다. 임시 필드를 갖도록 코드를 작성하면 이해하기 어렵다
- **클래스 추출하기**
- **함수 옮기기**
- **특이 케이스 추가하기**

### 3.17 메시지 체인 
- 한 객체를 통해 얻은 뒤 그 객체에게 또 다른 객체를 요청하는 식의 방법이다 
- **위임 숨기기** 
- **함수 추출하기** 
- **함수 옮기기** 

### 3.18 중개자 
- 외부로부터 세부사항을 숨겨주는 캡슐화가 너무 지나칠 때를 의미한다
- 클래스가 제공하는 메서드 중 절반이 다른 클래스에 구현을 위임하고 있다면 **중개자 제거하기**
- 위임 메서드를 제거한 후 남는 일이 거의 없다면 호출하는 쪽으로 **함수 인라인하기**

### 3.19 내부자 거래 
- **함수 옮기기**
- **필드 옮기기**
- **위임 숨기기**
- **서브 클래스를 위임으로 바꾸기** 
- **슈퍼클래스를 위임으로 바꾸기** 

### 3.20 거대한 클래스 
- **클래스 추출하기** 
- **슈퍼클래스 추출하기**
- **타입 코드를 서브클래스로 바꾸기** 

### 3.21 서로 다른 인터페이스의 대안 클래스들 
- **함수 선언 바꾸기** 
- **함수 옮기기** 
- **슈퍼클래스 추출하기** 

### 3.22 데이터 클래스 
레코드 캡슐화하기
세터 제거하기
함수 옮기기
함수 추출하기 

### 3.23 상속 포기 
- **메서드 내리기**
- **필드 내리기** 
- **서브클래스를 위임으로 바꾸기**
- **슈퍼클래스를 위임으로 바꾸기** 

### 3.24 주석 
- **함수 추출하기** 
- **함수 선언 바꾸기** 
- **어서션 추가하기** 
- 주석을 남겨야겠다는 생각이 들면, 가장 먼저 주석이 필요 없는 코드로 리팩터링해본다 