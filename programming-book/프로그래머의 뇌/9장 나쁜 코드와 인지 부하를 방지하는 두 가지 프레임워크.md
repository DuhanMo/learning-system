# 9장 나쁜 코드와 인지 부하를 방지하는 두 가지 프레임워크  

## 9.1 코드 스멜이 인지 부하를 초래하는 이유  

### 코드 스멜(Code Smell) 개요  
- 코드 스멜: 작동은 하지만 개선이 필요한 코드  
- 대표적인 코드 스멜 예시:  
  - **긴 메서드**: 한 메서드가 너무 많은 기능을 포함  
  - **긴 매개변수 목록**: 너무 많은 인수를 받는 메서드  
  - **스위치 문 남용**: 다형성을 활용할 수 있음에도 불필요한 스위치 문 사용  
  - **큰 클래스 (신의 클래스, God Class)**: 한 클래스에 너무 많은 기능이 집중  
  - **중복 코드 (Code Clone)**: 동일하거나 비슷한 코드가 여러 곳에서 반복  
  - **게으른 클래스**: 기능이 너무 적어 불필요한 클래스  

### 코드 스멜과 인지 부하의 관계  
- **작업 기억 공간 초과**  
  - 긴 매개변수 목록이나 복잡한 스위치 문 → 기억할 정보가 많아짐 → 이해하기 어려움  
- **효율적인 청킹(Chunking) 불가능**  
  - 신의 클래스, 긴 메서드 → 코드가 구조적으로 정리되지 않아 명확한 단위로 나누기 어려움  
- **잘못된 청킹 발생**  
  - 중복 코드가 많으면 기존의 코드와 새로운 코드를 혼동할 가능성 증가  

### 코드 스멜이 버그 발생률에 미치는 영향  
- 연구 결과: 코드 스멜이 포함된 코드에서 버그 발생 가능성이 더 높음  
- 신의 클래스나 긴 메서드가 포함된 코드가 자주 수정되는 경향 있음  

## 9.2 나쁜 이름이 인지 부하에 미치는 영향  

### 언어적 안티패턴 (Linguistic Antipattern)  
- **코드의 언어적 요소와 실제 동작 간 불일치**  
- 예시:  
  - `initial_element` 변수가 실제로는 리스트의 인덱스를 가짐  
  - `isValid` 같은 불리언처럼 보이는 변수가 정수를 저장  
  - `getCustomers()` 메서드가 실제로는 고객 목록이 아닌 불리언 값을 반환  

### 언어적 안티패턴 유형  
1. **이름이 나타내는 것보다 더 많은 일을 하는 메서드**  
2. **이름이 나타내는 것보다 더 적은 일을 하는 메서드**  
3. **이름과 정반대의 일을 하는 메서드**  
4. **개체에 포함된 것보다 더 많은 것을 가지고 있는 것처럼 보이는 식별자 이름**  
5. **개체에 포함된 것을 누락하는 식별자 이름**  
6. **개체에 포함된 것과 반대되는 식별자 이름**  

### 연구 결과  
- `is`로 시작하는 변수 중 64%가 실제로 불리언이 아님  
- 11%의 Setter 메서드가 필드 설정 외에 추가적인 작업 수행  
- 언어적 안티패턴이 포함된 코드일수록 높은 인지 부하 발생  

## 9.3 인지 부하 측정 방법  

### 1. **파스 척도 (Paas Scale)**  
- 9점 척도로 인지 부하를 자기 평가하는 방식  
- 간단하지만 신뢰성 있는 평가 도구  

### 2. **생체 신호 측정**  
- **눈 기반 측정**:  
  - **눈 깜빡임 빈도** → 복잡한 코드일수록 깜빡이는 횟수 감소  
  - **동공 크기 변화** → 어려운 작업일수록 동공이 커짐  
- **피부 기반 측정**:  
  - **땀의 변화** 및 **피부 온도 변화**로 인지 부하 측정  

### 3. **뇌 기반 측정**  
- **EEG (뇌전도)**: 뉴런의 활동을 측정하여 인지 부하 분석  
- **fNIRS (기능적 근적외선 분광법)**: 뇌의 혈류량 변화를 통해 인지 부하 측정  
  - 연구 결과: 복잡한 코드일수록 혈류량 증가  

## 9.4 언어적 안티패턴이 혼란을 일으키는 이유  
- **잘못된 정보 제공** → LTM에서 잘못된 정보 검색 가능  
  - 예: `retrieveElements()`라는 이름이 리스트를 반환할 것이라 생각하지만, 단일 요소만 반환할 수도 있음  
- **잘못된 청킹(Chunking) 발생**  
  - `isValid` 변수가 불리언이 아닐 경우, 기존 지식과 충돌하여 혼란 발생  

## 9장 요약  
- **코드 스멜은 코드의 구조적 문제이며, 인지 부하를 증가시킴**  
  - 신의 클래스, 긴 메서드, 중복 코드 등은 코드 이해도를 낮추고 유지보수를 어렵게 만듦  
- **언어적 안티패턴은 코드가 실제 수행하는 작업과 맞지 않는 이름으로 인해 발생**  
  - 코드 읽기 속도를 늦추고 잘못된 가정을 유발할 수 있음  
- **인지 부하 측정 방법은 여러 가지가 존재**  
  - 파스 척도, 생체 신호(눈, 피부), 뇌 기반 측정(fNIRS, EEG)  
- **코드 품질을 개선하려면 명확한 이름과 구조를 유지하는 것이 중요**  