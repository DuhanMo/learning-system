## 7장. 아키텍처 요소 테스트하기

### 테스트 피라미드 
- 단위 테스트 - 통합테스트 - 시스템 테스트 순으로 테스트를 많이 만들어야한다
  - 적은 작성 비용, 쉬운 유지보수, 빠른 실행, 안정적인 작은 크기 인 테스트를 더 많이 작성해야 한다 
- 단위 테스트: 하나의 클래스를 인스턴스화 하고 해당 클래스의 인터페이스를 통해 기능을 테스트한다
  - 테스트하는동안 필요한 작업들을 mock으로 대체한다
- 통합 테스트: 여러 유닛을 인스턴스화하고 유닛들의 네트워크가 기대한대로 잘 동작하는지 검증한다
- 시스템 테스트: 모든 객체 네트워크를 가동시켜 특정 유스케이스가 전 계층에서 잘 동작하는지 검증한다

### 단위 테스트로 도메인 엔티티 테스트하기 
- 도메인 엔티티 테스트는 도메인에 녹아있는 비즈니스 규칙을 검증하기에 가장 적절하다

### 단위 테스트로 유스케이스 테스트하기
- given, when, then을 일반적으로 사용한다
- given 절에서는 인스턴스를 각각 생성하고 적절한 상태로 만든다 
- when 절에서는 유스케이스를 실행하기 위한 메서드를 호출한다
- then 절에서는 여러 작업이 성공적으로 되었는지 확인하거나 특정 메서드가 호출되었는지 검증한다